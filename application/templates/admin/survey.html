{% extends "base_template.html" %}

<!--TAREA: Hacer que el text area de los enunciados sea autoajustable : https://stephanwagner.me/auto-resizing-textarea-with-vanilla-javascript -->

{% block title %}Crear encuesta{% endblock title %}

{% block cssFiles %}
<link rel="stylesheet" href="{{ url_for("static", filename="css/create_survey.css" ) }}">
{% endblock cssFiles %}

{% block content %}
{% if data.selected == 'preguntas' %}
<section class="survey container d-flex flex-column">
  <div class="survey__card shadow pt-3 pb-3 mb-4 mt-4 mx-auto justify-content-center">
    <textarea id="title" onchange="handleInputs(event)" class="form-control shadow-none survey__elementTitle mb-2 textareaDisabled" rows="1"
      placeholder="Inserte Título" autofocus style="height: 10px"></textarea>
    <textarea onchange="handleInputs(event)" id="description" class="form-control shadow-none survey__elementDesc" rows="1"
      placeholder="Description de la encuesta"></textarea>
  </div>
  <div class="surveyQuestions">
  </div>
  <div class="survey__addButton text-center">
    <button type="button" class="suveryQuestions__button"><img src="{{ url_for("static",
      filename="resources/plus-blue.png" ) }}" class="img-fluid survey__image" onclick="addQuestion()"></button>
  </div>
</section>
<div class="w-100 d-flex justify-align-end">
  <button type="button" class="btn-flotante" onclick="sendData(event)">{{data.textButton}}</button>
</div>
<div class="modal fade myModalId" role="dialog" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true"> 
  <div class="modal-dialog modal-dialog-centered myModal">
  
    <!-- Modal content-->
    <div class="modal-content d-flex flex-column justify-content-center align-items-center p-5 gap-2 myModal shadow">
      <img src="{{ url_for("static",
      filename="resources/success.png" ) }}">
      <h1>¡Encuesta guardada!</h1>
      <h5>Te redireccionaremos a la pagina principal</h5>
      <div class="spinner-border text-primary" role="status">
        <span class="sr-only"></span>
      </div>
    </div>
    
  </div>
</div>



{% elif data.selected == "respuestas" %}
<p>Respuestas</p>
{% else %}
<p>Configuracion</p>
{% endif %}
{% endblock content %}



{% block jsFiles %}
<script>
  const data = {{ data | tojson }}
</script>

<script src="{{ url_for("static", filename="js/nav.js" ) }}"></script>
<script src="{{ url_for("static", filename="js/survey_preguntas.js" ) }}"></script>
{% endblock jsFiles %}
